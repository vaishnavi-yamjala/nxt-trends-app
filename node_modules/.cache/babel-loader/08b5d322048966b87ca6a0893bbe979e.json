{"ast":null,"code":"var _jsxFileName = \"/home/nxtwave/reactjs/coding-practices/enhancementOfNxtTrendzPayment/src/components/PrimeDealsSection/index.js\";\nimport { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Loader from 'react-loader-spinner';\nimport ProductCard from '../ProductCard';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS'\n};\nclass PrimeDealsSection extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      primeDeals: [],\n      apiStatus: apiStatusConstants.initial\n    };\n    this.getPrimeDeals = async () => {\n      this.setState({\n        apiStatus: apiStatusConstants.inProgress\n      });\n      const jwtToken = Cookies.get('jwt_token');\n      const apiUrl = 'https://apis.ccbp.in/prime-deals';\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      const response = await fetch(apiUrl, options);\n      if (response.ok === true) {\n        const fetchedData = await response.json();\n        const updatedData = fetchedData.prime_deals.map(product => ({\n          title: product.title,\n          brand: product.brand,\n          price: product.price,\n          id: product.id,\n          imageUrl: product.image_url,\n          rating: product.rating\n        }));\n        this.setState({\n          primeDeals: updatedData,\n          apiStatus: apiStatusConstants.success\n        });\n      }\n      if (response.status === 401) {\n        this.setState({\n          apiStatus: apiStatusConstants.failure\n        });\n      }\n    };\n    this.renderPrimeDealsListView = () => {\n      const {\n        primeDeals\n      } = this.state;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"primedeals-list-heading\",\n          children: \"Exclusive Prime Deals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"products-list\",\n          children: primeDeals.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n            productData: product\n          }, product.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this);\n    };\n    this.renderPrimeDealsFailureView = () => /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"https://assets.ccbp.in/frontend/react-js/exclusive-deals-banner-img.png\",\n      alt: \"register prime\",\n      className: \"register-prime-img\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this);\n    this.renderLoadingView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"primedeals-loader-container\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"ThreeDots\",\n        color: \"#0b69ff\",\n        height: \"50\",\n        width: \"50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this);\n  }\n  componentDidMount() {\n    this.getPrimeDeals();\n  }\n  render() {\n    const {\n      apiStatus\n    } = this.state;\n    switch (apiStatus) {\n      case apiStatusConstants.success:\n        return this.renderPrimeDealsListView();\n      case apiStatusConstants.failure:\n        return this.renderPrimeDealsFailureView();\n      case apiStatusConstants.inProgress:\n        return this.renderLoadingView();\n      default:\n        return null;\n    }\n  }\n}\nexport default PrimeDealsSection;","map":{"version":3,"names":["Component","Cookies","Loader","ProductCard","jsxDEV","_jsxDEV","apiStatusConstants","initial","success","failure","inProgress","PrimeDealsSection","constructor","args","state","primeDeals","apiStatus","getPrimeDeals","setState","jwtToken","get","apiUrl","options","headers","Authorization","method","response","fetch","ok","fetchedData","json","updatedData","prime_deals","map","product","title","brand","price","id","imageUrl","image_url","rating","status","renderPrimeDealsListView","children","className","fileName","_jsxFileName","lineNumber","columnNumber","productData","renderPrimeDealsFailureView","src","alt","renderLoadingView","type","color","height","width","componentDidMount","render"],"sources":["/home/nxtwave/reactjs/coding-practices/enhancementOfNxtTrendzPayment/src/components/PrimeDealsSection/index.js"],"sourcesContent":["import {Component} from 'react'\nimport Cookies from 'js-cookie'\nimport Loader from 'react-loader-spinner'\n\nimport ProductCard from '../ProductCard'\n\nimport './index.css'\n\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS',\n}\n\nclass PrimeDealsSection extends Component {\n  state = {\n    primeDeals: [],\n    apiStatus: apiStatusConstants.initial,\n  }\n\n  componentDidMount() {\n    this.getPrimeDeals()\n  }\n\n  getPrimeDeals = async () => {\n    this.setState({\n      apiStatus: apiStatusConstants.inProgress,\n    })\n\n    const jwtToken = Cookies.get('jwt_token')\n\n    const apiUrl = 'https://apis.ccbp.in/prime-deals'\n    const options = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      method: 'GET',\n    }\n    const response = await fetch(apiUrl, options)\n    if (response.ok === true) {\n      const fetchedData = await response.json()\n      const updatedData = fetchedData.prime_deals.map(product => ({\n        title: product.title,\n        brand: product.brand,\n        price: product.price,\n        id: product.id,\n        imageUrl: product.image_url,\n        rating: product.rating,\n      }))\n      this.setState({\n        primeDeals: updatedData,\n        apiStatus: apiStatusConstants.success,\n      })\n    }\n    if (response.status === 401) {\n      this.setState({\n        apiStatus: apiStatusConstants.failure,\n      })\n    }\n  }\n\n  renderPrimeDealsListView = () => {\n    const {primeDeals} = this.state\n    return (\n      <div>\n        <h1 className=\"primedeals-list-heading\">Exclusive Prime Deals</h1>\n        <ul className=\"products-list\">\n          {primeDeals.map(product => (\n            <ProductCard productData={product} key={product.id} />\n          ))}\n        </ul>\n      </div>\n    )\n  }\n\n  renderPrimeDealsFailureView = () => (\n    <img\n      src=\"https://assets.ccbp.in/frontend/react-js/exclusive-deals-banner-img.png\"\n      alt=\"register prime\"\n      className=\"register-prime-img\"\n    />\n  )\n\n  renderLoadingView = () => (\n    <div className=\"primedeals-loader-container\">\n      <Loader type=\"ThreeDots\" color=\"#0b69ff\" height=\"50\" width=\"50\" />\n    </div>\n  )\n\n  render() {\n    const {apiStatus} = this.state\n    switch (apiStatus) {\n      case apiStatusConstants.success:\n        return this.renderPrimeDealsListView()\n      case apiStatusConstants.failure:\n        return this.renderPrimeDealsFailureView()\n      case apiStatusConstants.inProgress:\n        return this.renderLoadingView()\n      default:\n        return null\n    }\n  }\n}\n\nexport default PrimeDealsSection\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}